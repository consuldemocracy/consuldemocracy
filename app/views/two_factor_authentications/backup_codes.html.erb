<%# app/views/two_factor_authentication/backup_codes.html.erb %>

<div class="container two-factor-backup-codes">
  <h1>Two-Factor Authentication Enabled</h1>

  <%# This is the success message from the controller %>
  <% if flash[:notice] %>
    <div class="flash-notice"><%= flash[:notice] %></div>
  <% end %>

  <div class="callout warning">
    <h2>Save Your Backup Codes</h2>
    <p>
      Please treat these backup codes like a password. We recommend storing them in a secure password manager.
    </p>
    <p>
      Each code can only be used once. These codes will **not be shown again**.
    </p>
  </div>

  <h3>Your Backup Codes</h3>

  <ul class="backup-code-list">
    <% @backup_codes.each do |code| %>
      <%# The codes are often formatted, e.g., "xxxx-xxxx". %>
      <li class="backup-code"><%= code %></li>
    <% end %>
  </ul>

  <div class="actions">
    <%= link_to "I have saved my codes", account_path, class: "button primary large" %>
  </div>
</div>

<%# Optional: Some styling to make it look good %>
<style>
  .two-factor-backup-codes { max-width: 600px; margin: 2rem auto; text-align: center; }
  .callout.warning { background-color: #fff3cd; border: 1px solid #ffeeba; padding: 1rem; border-radius: 4px; margin-bottom: 2rem; }
  .backup-code-list { list-style-type: none; padding: 0; margin: 2rem 0; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .backup-code { font-family: monospace; font-size: 1.5rem; background-color: #f8f9fa; padding: 0.75rem; border-radius: 4px; border: 1px solid #dee2e6; }
</style>